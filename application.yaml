apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sample-argo-application
  namespace: argocd #cd running namespace
spec:
  project: default   #project name

  source:
    repoURL: 
    targetRevision: HEAD
    path: <folder name> k8s-master
  destination:
    server: https://kubernetes.default.svc       #default server wherever the argo-CD is deployed
    namespace: sk   # manifest deployment namespace

  syncPolicy:
    syncOptions:
    - CreateNamespace=true  # create ns if not there

    automated:    # pull for every 3 min (not immed...)
      selfHeal: true #if we manually change anything in the cluster, sync with git code
      prune: true   # if we delete a svc in git, argo will delete that in cluster
